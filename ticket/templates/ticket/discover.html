{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}View Tickets{% endblock %}</h1>
{% endblock %}

{% block content %}
<h2>Tickets</h2>
<h3>Search</h3>
<form method="POST">
  <select name="filters" id="filters">
    <option value="by_title" selected>By Title</option>
    <option value="by_tag">By Tag</option>
    <option value="by_username">By Username</option>
    <option value="by_status">By Status</option>
  </select>
  <input type="text" id="query" name="query">
  <input type="submit" name="search" value="Search">
</form>
<table style="width:100%">
  <tr>
    <th>Id</th>
    <th>Title</th>
    <th>Description</th>
    <th>Tag</th>
  </tr>
  {% for ticket in tickets %}
    <tr>
      <th>{{ ticket.ticket_id }}</th>
      <th><a href="{{ url_for("ticket.view", ticket_id=ticket.ticket_id) }}">{{ ticket.title }}</a></th>
      <th>{{ ticket.description }}</th>
      <th>{{ ticket.tag }}</th>
    </tr>
  {% endfor %}
</table>
{% endblock %}
